# Gateway Agent Configuration Example
# Copy this file and customize for your deployment

# Required: Unique identifier for this gateway
uuid: "gateway-12345-abcde"

# Required: Client identifier
client_id: "acme_corp"

# Required: Site identifier
site_id: "headquarters"

# Required: Backend API endpoint
api_url: "http://pulse.qure.ai:8001/api/v1/service-stats-data/"

# Optional: Fallback API endpoints (tried in order on retryable failures)
api_url_fallbacks:
  - "http://172.17.4.26:8001/api/v1/service-stats-data/"

# Authentication configuration
auth:
  # Required: Current API token
  token_current: "adbd05ddec03fd5206d013bd2af139486a92dfd9ec9a9179ae9c73e6709af74b"

  # Optional: Grace token for zero-downtime rotation
  # Uncomment to enable dual-token rotation
  # token_grace: "old-token-during-rotation"

# Platform detection (optional)
platform:
  # Optional: Override auto-detected platform
  # Values: raspberry_pi, ubuntu, windows, vm, linux
  # If not specified, platform is auto-detected
  # platform_override: "ubuntu"

# Timing intervals (optional)
intervals:
  # How often to send heartbeats (seconds)
  # Default: 15
  heartbeat_seconds: 15

  # How often to refresh compute metrics (seconds)
  # Default: 120
  compute_seconds: 120

# Metrics Collection
# The agent automatically collects and sends the following metrics:
#
# System Metrics (included in every heartbeat):
#   - CPU usage percentage
#   - Memory total, used, and usage percentage
#   - Disk space total, used, and usage percentage
#   - Temperature readings from CPU and system sensors (when available)
#
# Task Failure Alerts (when tasks are executed):
#   - Total tasks executed
#   - Success and failure counts
#   - Timestamp of last failure
#   - Recent failure history (last 10 failures with task ID, error, timestamp)
#
# To record task executions in your application, use the collector methods:
#   collector.RecordTaskSuccess("task-id")
#   collector.RecordTaskFailure("task-id", "error message")

# TLS configuration (optional)
tls:
  # Optional: Path to custom CA bundle for TLS verification
  # ca_bundle_path: "/etc/ssl/certs/custom-ca-bundle.pem"

  # TLS certificate verification
  # IMPORTANT: Must be false in production
  # Only set to true for testing/development
  # Default: false
  insecure_skip_verify: false
